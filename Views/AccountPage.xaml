<Page
    x:Class="biomed.Views.AccountPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
        <StackPanel Spacing="24" Padding="40,32">
            
            <!-- é¡µé¢æ ‡é¢˜ -->
            <TextBlock Text="ä¸ªäººä¸»é¡µ" Style="{ThemeResource TitleLargeTextBlockStyle}" FontWeight="Bold"/>

            <!-- ä¸ªäººä¿¡æ¯å¡ç‰‡ -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="24">
                <StackPanel Spacing="20">
                    <StackPanel Orientation="Horizontal" Spacing="16">
                        <PersonPicture ProfilePicture="{x:Bind ViewModel.UserStore.CurrentUser.ProfileImage, Mode=OneWay}" 
                                       DisplayName="{x:Bind ViewModel.UserStore.CurrentUser.Username, Mode=OneWay}" 
                                       Height="80" Width="80"/>
                        <StackPanel VerticalAlignment="Center" Spacing="4">
                            <TextBlock Text="{x:Bind ViewModel.UserStore.CurrentUser.Username, Mode=OneWay}" 
                                       Style="{ThemeResource SubtitleTextBlockStyle}" 
                                       FontWeight="Bold"/>
                            <TextBlock Text="{x:Bind ViewModel.UserStore.CurrentUser.FullName, Mode=OneWay, FallbackValue='æš‚æ— å…¨å'}" 
                                       Style="{ThemeResource BodyTextBlockStyle}"
                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                            <Border Background="{ThemeResource AccentFillColorDefaultBrush}"
                                    CornerRadius="12"
                                    Padding="8,4"
                                    Margin="0,4,0,0">
                                <TextBlock Text="âœ¨ é«˜çº§ç”¨æˆ·" 
                                           FontSize="12" 
                                           Foreground="White"
                                           FontWeight="SemiBold"/>
                            </Border>
                        </StackPanel>
                    </StackPanel>
                    
                    <StackPanel Orientation="Horizontal" Spacing="12">
                        <Button Click="ChangePasswordButton_Click"
                                Style="{StaticResource AccentButtonStyle}">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <FontIcon Glyph="ðŸ”" FontSize="16"/>
                                <TextBlock Text="ä¿®æ”¹å¯†ç "/>
                            </StackPanel>
                        </Button>
                        
                        <Button Click="EditProfileButton_Click">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <FontIcon Glyph="âœï¸" FontSize="16"/>
                                <TextBlock Text="ç¼–è¾‘èµ„æ–™"/>
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- ä½¿ç”¨ç»Ÿè®¡ -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="24">
                <StackPanel Spacing="16">
                    <TextBlock Text="ðŸ“Š ä½¿ç”¨ç»Ÿè®¡" 
                               Style="{ThemeResource SubtitleTextBlockStyle}" 
                               FontWeight="SemiBold"/>
                    
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <StackPanel Grid.Column="0" Grid.Row="0" Spacing="4">
                            <TextBlock Text="125" Style="{ThemeResource TitleTextBlockStyle}" FontWeight="Bold"/>
                            <TextBlock Text="ðŸ” æŸ¥è¯¢æ–¹å‰‚" Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        </StackPanel>

                        <StackPanel Grid.Column="1" Grid.Row="0" Spacing="4">
                            <TextBlock Text="38" Style="{ThemeResource TitleTextBlockStyle}" FontWeight="Bold"/>
                            <TextBlock Text="ðŸ§ª ç ”ç©¶é¡¹ç›®" Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        </StackPanel>

                        <StackPanel Grid.Column="0" Grid.Row="1" Spacing="4" Margin="0,16,0,0">
                            <TextBlock Text="67" Style="{ThemeResource TitleTextBlockStyle}" FontWeight="Bold"/>
                            <TextBlock Text="ðŸ“š å­¦ä¹ è¯¾ç¨‹" Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        </StackPanel>

                        <StackPanel Grid.Column="1" Grid.Row="1" Spacing="4" Margin="0,16,0,0">
                            <TextBlock Text="15å¤©" Style="{ThemeResource TitleTextBlockStyle}" FontWeight="Bold"/>
                            <TextBlock Text="âš¡ æ´»è·ƒå¤©æ•°" Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        </StackPanel>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- å¿«é€Ÿæ“ä½œ -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="24">
                <StackPanel Spacing="16">
                    <TextBlock Text="âš¡ å¿«é€Ÿæ“ä½œ" 
                               Style="{ThemeResource SubtitleTextBlockStyle}" 
                               FontWeight="SemiBold"/>
                    
                    <StackPanel Spacing="8">
                        <Button HorizontalAlignment="Stretch" 
                                Click="BackupDataButton_Click"
                                HorizontalContentAlignment="Left">
                            <StackPanel Orientation="Horizontal" Spacing="12">
                                <TextBlock Text="ðŸ’¾" FontSize="20"/>
                                <StackPanel>
                                    <TextBlock Text="æ•°æ®å¤‡ä»½" FontWeight="SemiBold"/>
                                    <TextBlock Text="å¤‡ä»½æ‚¨çš„ä¸ªäººæ•°æ®" 
                                               FontSize="12" 
                                               Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                                </StackPanel>
                            </StackPanel>
                        </Button>

                        <Button HorizontalAlignment="Stretch" 
                                Click="NotificationSettingsButton_Click"
                                HorizontalContentAlignment="Left">
                            <StackPanel Orientation="Horizontal" Spacing="12">
                                <TextBlock Text="ðŸ””" FontSize="20"/>
                                <StackPanel>
                                    <TextBlock Text="é€šçŸ¥è®¾ç½®" FontWeight="SemiBold"/>
                                    <TextBlock Text="ç®¡ç†æŽ¨é€é€šçŸ¥" 
                                               FontSize="12" 
                                               Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                                </StackPanel>
                            </StackPanel>
                        </Button>

                        <Button HorizontalAlignment="Stretch" 
                                Click="PrivacySettingsButton_Click"
                                HorizontalContentAlignment="Left">
                            <StackPanel Orientation="Horizontal" Spacing="12">
                                <TextBlock Text="ðŸ”’" FontSize="20"/>
                                <StackPanel>
                                    <TextBlock Text="éšç§è®¾ç½®" FontWeight="SemiBold"/>
                                    <TextBlock Text="æŽ§åˆ¶éšç§é€‰é¡¹" 
                                               FontSize="12" 
                                               Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                                </StackPanel>
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- æœ€è¿‘æ´»åŠ¨ -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="24">
                <StackPanel Spacing="16">
                    <TextBlock Text="ðŸ•’ æœ€è¿‘æ´»åŠ¨" 
                               Style="{ThemeResource SubtitleTextBlockStyle}" 
                               FontWeight="SemiBold"/>
                    
                    <StackPanel Spacing="12">
                        <StackPanel Spacing="4">
                            <TextBlock Text="ðŸ” æŸ¥è¯¢äº†é¾™èƒ†æ³»è‚æ±¤" FontWeight="SemiBold"/>
                            <TextBlock Text="2å°æ—¶å‰" 
                                       FontSize="12" 
                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        </StackPanel>

                        <StackPanel Spacing="4">
                            <TextBlock Text="âš–ï¸ å®Œæˆäº†æ–¹å‰‚å¯¹æ¯”åˆ†æž" FontWeight="SemiBold"/>
                            <TextBlock Text="4å°æ—¶å‰" 
                                       FontSize="12" 
                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        </StackPanel>

                        <StackPanel Spacing="4">
                            <TextBlock Text="ðŸ“º è§‚çœ‹äº†ä¸­è¯é…ä¼è¯¾ç¨‹" FontWeight="SemiBold"/>
                            <TextBlock Text="æ˜¨å¤©" 
                                       FontSize="12" 
                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        </StackPanel>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- é€€å‡ºç™»å½• -->
            <Button Command="{x:Bind ViewModel.LogoutCommand}"
                    HorizontalAlignment="Stretch"
                    Background="{ThemeResource SystemFillColorCriticalBrush}"
                    Foreground="White"
                    Margin="0,16,0,0">
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <TextBlock Text="ðŸšª" FontSize="16"/>
                    <TextBlock Text="é€€å‡ºç™»å½•"/>
                </StackPanel>
            </Button>

        </StackPanel>
    </ScrollViewer>

</Page> 